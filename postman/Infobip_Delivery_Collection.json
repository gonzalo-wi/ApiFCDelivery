{
  "info": {
    "_postman_id": "infobip-delivery-api",
    "name": "GoFrioCalor - Infobip Delivery API",
    "description": "Colección de ejemplos para el endpoint de creación de entregas desde Infobip chatbot",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "✅ Casos Exitosos",
      "item": [
        {
          "name": "Instalación - 2 Pie + 1 Mesada",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nro_cta\": \"CTA12345\",\n  \"nro_rto\": \"RTO001\",\n  \"tipos\": {\n    \"P\": 2,\n    \"M\": 1\n  },\n  \"tipo_entrega\": \"Instalacion\",\n  \"entregado_por\": \"Repartidor\",\n  \"session_id\": \"INF-54656\",\n  \"fecha_accion\": \"2026-02-25\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/deliveries/infobip",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "deliveries", "infobip"]
            },
            "description": "Crea una entrega de instalación con 2 dispensers de pie y 1 de mesada"
          },
          "response": []
        },
        {
          "name": "Recambio - 1 Pie + 1 Mesada",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nro_cta\": \"CTA99999\",\n  \"nro_rto\": \"RTO999\",\n  \"tipos\": {\n    \"P\": 1,\n    \"M\": 1\n  },\n  \"tipo_entrega\": \"Recambio\",\n  \"entregado_por\": \"Tecnico\",\n  \"session_id\": \"INF-78910\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/deliveries/infobip",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "deliveries", "infobip"]
            },
            "description": "Crea una entrega de recambio con 1 de cada tipo, sin fecha específica"
          },
          "response": []
        },
        {
          "name": "Retiro - 3 Mesada",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nro_cta\": \"CTA77777\",\n  \"nro_rto\": \"RTO777\",\n  \"tipos\": {\n    \"P\": 0,\n    \"M\": 3\n  },\n  \"tipo_entrega\": \"Retiro\",\n  \"entregado_por\": \"Repartidor\",\n  \"session_id\": \"INF-12345\",\n  \"fecha_accion\": \"2026-02-26T10:30:00Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/deliveries/infobip",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "deliveries", "infobip"]
            },
            "description": "Retiro de 3 dispensers de mesada con fecha ISO 8601"
          },
          "response": []
        },
        {
          "name": "Solo Pie - 3 Dispensers",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nro_cta\": \"CTA11111\",\n  \"nro_rto\": \"RTO111\",\n  \"tipos\": {\n    \"P\": 3,\n    \"M\": 0\n  },\n  \"tipo_entrega\": \"Instalacion\",\n  \"entregado_por\": \"Repartidor\",\n  \"session_id\": \"INF-11111\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/deliveries/infobip",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "deliveries", "infobip"]
            },
            "description": "Instalación con solo dispensers de pie"
          },
          "response": []
        },
        {
          "name": "Solo Mesada - 2 Dispensers",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nro_cta\": \"CTA22222\",\n  \"nro_rto\": \"RTO222\",\n  \"tipos\": {\n    \"P\": 0,\n    \"M\": 2\n  },\n  \"tipo_entrega\": \"Instalacion\",\n  \"entregado_por\": \"Tecnico\",\n  \"session_id\": \"INF-22222\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/deliveries/infobip",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "deliveries", "infobip"]
            },
            "description": "Instalación con solo dispensers de mesada"
          },
          "response": []
        }
      ]
    },
    {
      "name": "❌ Casos de Error",
      "item": [
        {
          "name": "Error - Sin Dispensers (0 total)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nro_cta\": \"CTA00000\",\n  \"nro_rto\": \"RTO000\",\n  \"tipos\": {\n    \"P\": 0,\n    \"M\": 0\n  },\n  \"tipo_entrega\": \"Instalacion\",\n  \"entregado_por\": \"Repartidor\",\n  \"session_id\": \"INF-00000\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/deliveries/infobip",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "deliveries", "infobip"]
            },
            "description": "Debe retornar 400 - Debe tener al menos 1 dispenser"
          },
          "response": []
        },
        {
          "name": "Error - Campo Faltante (nro_cta)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nro_rto\": \"RTO555\",\n  \"tipos\": {\n    \"P\": 1,\n    \"M\": 0\n  },\n  \"tipo_entrega\": \"Instalacion\",\n  \"entregado_por\": \"Repartidor\",\n  \"session_id\": \"INF-555\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/deliveries/infobip",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "deliveries", "infobip"]
            },
            "description": "Debe retornar 400 - Campo nro_cta es requerido"
          },
          "response": []
        },
        {
          "name": "Error - Tipo Entrega Inválido",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nro_cta\": \"CTA66666\",\n  \"nro_rto\": \"RTO666\",\n  \"tipos\": {\n    \"P\": 1,\n    \"M\": 1\n  },\n  \"tipo_entrega\": \"TipoInvalido\",\n  \"entregado_por\": \"Repartidor\",\n  \"session_id\": \"INF-666\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/deliveries/infobip",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "deliveries", "infobip"]
            },
            "description": "Debe retornar 400 - tipo_entrega debe ser Instalacion, Retiro o Recambio"
          },
          "response": []
        },
        {
          "name": "Error - Entregado Por Inválido",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nro_cta\": \"CTA77777\",\n  \"nro_rto\": \"RTO777\",\n  \"tipos\": {\n    \"P\": 1,\n    \"M\": 1\n  },\n  \"tipo_entrega\": \"Instalacion\",\n  \"entregado_por\": \"PersonaInvalida\",\n  \"session_id\": \"INF-777\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/deliveries/infobip",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "deliveries", "infobip"]
            },
            "description": "Debe retornar 400 - entregado_por debe ser Repartidor o Tecnico"
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    }
  ]
}
